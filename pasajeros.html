<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>Pasajeros</title>

    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f5f7fa;
        margin: 0;
        padding: 20px;
      }

      .contenedor {
        background-color: #ffffff;
        padding: 30px 40px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        max-width: 960px;
        margin: auto;
      }

      h1 {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        text-align: center;
        color: #000000;
        margin-bottom: 30px;
      }

      label {
        display: block;
        margin-top: 15px;
        font-weight: 600;
        color: #000000;
      }

      input[type="text"],
        input[type="email"],
        input[type="datetime-local"] {
          width: 100%;
          padding: 10px 12px;
          margin-top: 6px;
          border: 1px solid #201c1c;
          border-radius: 6px;
          box-sizing: border-box;
          transition: border 0.3s;
      } 

      input[type="text"]:focus,
      input[type="email"]:focus,
      input[type="datetime-local"]:focus {
        border-color: #e05e08;
        outline: none;
      }

      input[type="radio"] {
        margin-right: 6px;
        margin-left: 10px;
      }

      button {
        background-color: #1048af;
        color: white;
        padding: 10px 18px;
        margin-top: 20px;
        margin-right: 12px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 15px;
        transition: background-color 0.3s, transform 0.2s;
      }

      button:hover {
        background-color: #7a0d90;
        transform: scale(1.03);
      }

      .botones-centrados {
        text-align: center;
        margin-top: 30px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 30px;
        font-size: 14px;
        background-color: #fff;
        border: 1px solid #ccc;
      }

      th, td {
        border: 1px solid #ccc;
        padding: 12px;
        text-align: center;
      }

      th {
        background-color: #f0f0f0;
        color: #333;
        font-weight: 600;
      }

      .acciones button {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 18px;
        padding: 5px;
        margin: 0 4px;
        color: #555;
      }

      .acciones button:hover {
        color: #87b6df;
        transform: scale(1.2);
      }
    </style>

</head>
<body>
    <div>
      <h1>Registro de Pasajeros</h1>

      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre"/>
      <br><br>

      <label for="apellido">Apellido:</label>
      <input type="text" id="apellido" name="apellido"/>
      <br><br>

      <label for="npasaporte">Número de Pasaporte:</label>
      <input type="text" id="npasaporte" name="npasaporte"/>
      <br><br>

      <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
      <input type="datetime-local" id="fecha_nacimiento" name="fecha_nacimiento"/>
      <br><br>

      <label for="genero">Genero:</label>
      <br>

      <input type="radio" id="masculino" name="genero" value="Masculino" />
      <label for="masculino">Masculino</label>
      <input type="radio" id="femenino" name="genero" value="Femenino" />
      <label for="femenino">Femenino</label>

      <br><br>
      <label for="correo">Correo Electronico:</label>
      <input type="email" id="correo" name="correo" />
      <br><br>

      <label for="telefono">Numero Telefonico:</label>
      <input type="text" id="telefono" name="telefono" />
      <br>

      <label for="cemergencia">Contacto de Emergencia:</label>
      <input type="text" id="cemergencia" name="cemergencia" />
      <br>

      <div class="botones-centrados">
        <button onclick="agregarFila()">Agregar a la tabla</button>
      </div>

      <table id="tDatos">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>Numero de Pasaporte</th>
              <th>Fecha de Nacimiento</th>
              <th>Genero</th>
              <th>Correo Electronico</th>
              <th>Numero Telefonico</th>
              <th>Contacto de Emergencia</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <!-- -->
          </tbody>
        </table>
      
      <div class="botones-centrados">
        <button onclick="guardarDatos()">Guardar</button>
        <button onclick="cancelarFormulario()">Cancelar</button>
      </div>
    </div>

    <script>
      function agregarFila() {
        const nombre = document.getElementById('nombre').value.trim();
        const apellido = document.getElementById('apellido').value.trim();
        const npasaporte = document.getElementById('npasaporte').value.trim();
        const fecha_nacimiento = document.getElementById('fecha_nacimiento').value;
        const genero = document.querySelector('input[name="genero"]:checked')?.value;
        const correo = document.getElementById('correo').value;
        const telefono = document.getElementById('telefono').value;
        const cemergencia = document.getElementById('cemergencia').value;

        if (!nombre || !apellido || !npasaporte || !fecha_nacimiento || !genero ||
            !correo || !telefono || !cemergencia) {
          alert("Por favor, complete todos los campos.");
          return;
        }

        const tabla = document.getElementById('tDatos').getElementsByTagName('tbody')[0];
        const nuevaFila = tabla.insertRow();

        nuevaFila.insertCell(0).textContent = nombre;
        nuevaFila.insertCell(1).textContent = apellido;
        nuevaFila.insertCell(2).textContent = npasaporte;
        nuevaFila.insertCell(3).textContent = fecha_nacimiento;
        nuevaFila.insertCell(4).textContent = genero;
        nuevaFila.insertCell(5).textContent = correo;
        nuevaFila.insertCell(6).textContent = telefono;
        nuevaFila.insertCell(7).textContent = cemergencia;

        const celdaAcciones = nuevaFila.insertCell(8);

        // Botón VER DATOS
        const btnVer = document.createElement('button');
        btnVer.innerHTML = '<i class="fa-solid fa-eye"></i>';
        btnVer.title = "Ver Datos";
        btnVer.style.marginRight = "5px";
        btnVer.onclick = function () {
          alert(`Datos del pasajero:\n
          Nombre: ${nombre}
          Apellido: ${apellido}
          Pasaporte: ${npasaporte}
          Fecha de Nacimiento: ${fecha_nacimiento}
          Género: ${genero}
          Correo: ${correo}
          Teléfono: ${telefono}
          Contacto de Emergencia: ${cemergencia}`);
        };
        celdaAcciones.appendChild(btnVer);

        // Botón EDITAR
        const btnEditar = document.createElement('button');
        btnEditar.innerHTML = '<i class="fa-solid fa-pen"></i>';
        btnEditar.title = "Editar";
        btnEditar.style.marginRight = "5px";
        btnEditar.onclick = function () {
          document.getElementById('nombre').value = nombre;
          document.getElementById('apellido').value = apellido;
          document.getElementById('npasaporte').value = npasaporte;
          document.getElementById('fecha_nacimiento').value = fecha_nacimiento;
          document.querySelector(`input[name="genero"][value="${genero}"]`).checked = true;
          document.getElementById('correo').value = correo;
          document.getElementById('telefono').value = telefono;
          document.getElementById('cemergencia').value = cemergencia;

          tabla.deleteRow(nuevaFila.rowIndex - 1);
        };
        celdaAcciones.appendChild(btnEditar);

        // Botón ELIMINAR
        const btnEliminar = document.createElement('button');
        btnEliminar.innerHTML = '<i class="fa-solid fa-trash"></i>';
        btnEliminar.title = "Eliminar";
        btnEliminar.onclick = function () {
          const confirmar = confirm("¿Estás seguro de que deseas eliminar este registro?");
          if (confirmar) {
            tabla.deleteRow(nuevaFila.rowIndex - 1);
          }
        };
        celdaAcciones.appendChild(btnEliminar);

        // Limpiar campos
        document.getElementById("nombre").value = "";
        document.getElementById("apellido").value = "";
        document.getElementById("npasaporte").value = "";
        document.getElementById("fecha_nacimiento").value = "";
        document.getElementById("correo").value = "";
        document.getElementById("telefono").value = "";
        document.getElementById("cemergencia").value = "";
        document.querySelectorAll('input[name="genero"]').forEach(r => r.checked = false);

      }

      function guardarDatos() {
        const tabla = document.getElementById("tDatos").getElementsByTagName("tbody")[0];
        const filas = tabla.getElementsByTagName("tr");
        let datos = [];

      for (let fila of filas) {
        const celdas = fila.getElementsByTagName("td");
        datos.push({
          nombre: celdas[0].innerText,
          apellido: celdas[1].innerText,
          pasaporte: celdas[2].innerText,
          nacimiento: celdas[3].innerText,
          genero: celdas[4].innerText,
          correo: celdas[5].innerText,
          telefono: celdas[6].innerText,
          emergencia: celdas[7].innerText
        });
      }

      localStorage.setItem("pasajeros", JSON.stringify(datos));
      alert("Datos guardados correctamente.");
      }

      function cancelarFormulario() {
        if (confirm("¿Deseas limpiar los campos del formulario?")) {
          document.getElementById("nombre").value = "";
          document.getElementById("apellido").value = "";
          document.getElementById("npasaporte").value = "";
          document.getElementById("fecha_nacimiento").value = "";
          document.getElementById("correo").value = "";
          document.getElementById("telefono").value = "";
          document.getElementById("cemergencia").value = "";
          document.querySelectorAll('input[name="genero"]').forEach(r => r.checked = false);
        }
      }
</script>

</body>
</html>